## Слой приложения

На данном слое реализуется концентрированная бизнес-логика без деталей реализации
алгоритма на конкретных технологиях.

Связь бизнес-логики с деталями реализации происходит с помощью [интерфейсов](https://ru.wikipedia.org/wiki/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81_(%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D0%BD%D0%BE-%D0%BE%D1%80%D0%B8%D0%B5%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D0%BE%D0%B5_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5))
адаптера. Интерфейс находится на слое приложения, а его реализация - в слое адаптера.

Бизнес-логика приложения представлена в основном командами и запросами. Это классы с набором методов бизнес-логики.


### Зависимости

Зависимости бизнес-логики представляются в виде статических свойств таких классов.

Пример:
```python
from ns.commands.abc import CommandsABC

class Commands(CommandsABC):
    emails_sender: IEmailsSender  # Данная зависимость подставится на этапе запуска приложения
    
    def send_email_to_user(self, email: str):
        self.emails_sender.send_email(email)

```

Самым типичным примером зависимости логики через интерфейс является работа с репозиториями БД.

Интерфейс репозитория должен находиться в файле repos.py на слое приложения. Его реализация - в адаптере.

Как понять, на каком из слоев должна быть логика? Все просто. Если детали реализации описываются в терминах
языка программирования, смело кладите ее в команды/запросы. Если же детали реализации требуют подключения отдельной
библиотеки (особенно если вы вынуждены выбирать одну конкретную), либо требуют запросов по сети или вызова утилит
операционной системы, реализация этой логики должна быть вынесена в адаптер и подключена через интерфейс.
